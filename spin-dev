[ -z "$SPIN_TAGS" ] && SPIN_TAGS="sdl"
[ "$SPIN_TAGS" != "none" ] && SPIN_FLAGS="-tags $SPIN_TAGS"

case $1 in
    build)
        go build $SPIN_FLAGS ./...
        ;;
    cli) 
        go run cmd/spin-cli/spin-cli.go 
        ;;
    example)
        SPIN_FLAGS=$SPIN_FLAGS exec ./spin-dev run -d -p example
        ;;
    run)
        shift
        go run $SPIN_FLAGS cmd/spin/spin.go $@
        ;;
    test)
        go test $SPIN_FLAGS ./...
        ;;
    *)
        echo "error: unknown command: $1"
        exit 1
esac
